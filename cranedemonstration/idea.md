新设计

所有使用bitmap，大小设为固定档

所有计算只计算位置

如果是利用遍历，终究会出现瓶颈

主要的性能问题是物体(粒子)数量过多时遍历较为耗时 对所有粒子按照某些特点进行分组，尽量统一处理，尽量避免遍历操作以减少耗时

优化性能的方案

方案一、

将整个view分割成固定数量的区域

绘制线程只需要花费时间绘制固定数量的区域，因为区域数量固定，所以绘制耗时不会随控件数量增加而激增

渲染线程可使用多线程分组计算各个区域中的内容

缺点：

1、渲染线程计算的结果可能会导致最后绘制出来的内容有画面撕裂

2、当物体处于多个区域相交的地方时难以处理图像绘制，临时方案为多个区域新建时会比原区域大，使超出的部分能够绘制进去，只有当物体完全进入下个区域后，再在下个区域绘制，同时可能可以缓解缺点1的画面撕裂问题

方案二、

将所有物体按照景深分组

景深组数不会太多，保证绘制耗时不会过多

同时能够表现景深产生的模糊效果和大小效果

渲染线程可分组计算每层景深的内容

缺点：

单个景深组的bitmap大小是整个屏幕，资源占用较多
